{"version":3,"sources":["App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","components/services/pixabay-api.js","index.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","userQuery","setUserQuery","className","s","searchbar","searchForm","e","preventDefault","type","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","onChange","target","value","ImageGalleryItem","props","urlToImage","title","onClick","imageGalleryItem","src","alt","imageGalleryItemImage","ImageGallery","imageGallery","map","item","url","Button","button","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","overlay","currentTarget","modal","App","articles","setArticles","page","setPage","isLoading","setIsLoading","showModal","setShowModal","error","setError","setSrc","toggleModal","prev","keyword","fetch","then","res","json","sendServerRequest","alert","prevState","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","app","color","loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2c4cecca.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3eaef\",\"loader\":\"App_loader__1KbCT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2rUp_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2aBE8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__w5jzI\",\"searchForm\":\"Searchbar_searchForm__2rHXY\",\"searchFormButton\":\"Searchbar_searchFormButton__sdCeC\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__1EOs5\",\"searchFormInput\":\"Searchbar_searchFormInput__34AWt\"};","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [userQuery, setUserQuery] = useState(\"\");\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setUserQuery(target.value);\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(userQuery);\r\n    setUserQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.searchFormButton}>\r\n          <span className={s.searchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.searchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={handleInputChange}\r\n          value={userQuery}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ props: { urlToImage, title }, onClick }) => {\r\n  return (\r\n    <li className={s.imageGalleryItem}>\r\n      <img\r\n        src={urlToImage}\r\n        alt={title}\r\n        className={s.imageGalleryItemImage}\r\n        onClick={(e) => onClick(e)}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  urlToImage: PropTypes.string,\r\n  title: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem\";\r\n\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ props, onClick }) => {\r\n  return (\r\n    <ul className={s.imageGallery}>\r\n      {props &&\r\n        props.map((item) => (\r\n          <ImageGalleryItem key={item.url} props={item} onClick={onClick} />\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onClick: PropTypes.func,\r\n  props: PropTypes.arrayOf(PropTypes.object),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={onClick}>\r\n      Load more...\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst Modal = ({ onClose, src }) => {\r\n  const handleKeyDown = ({ code }) => {\r\n    if (code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n  const handleBackDropClick = ({ target, currentTarget }) => {\r\n    if (target === currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\nuseEffect(() => {\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n  return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n},\r\n  [handleKeyDown]);\r\n  \r\n  return (\r\n    <div className={s.overlay} onClick={handleBackDropClick}>\r\n      <div className={s.modal}>\r\n        <img src={src} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nModal.propTypes = {\r\n  onClick: PropTypes.func,\r\n  src: PropTypes.string,\r\n};\r\nexport default Modal;\r\n","import { useState, useEffect } from \"react\";\n\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport { sendServerRequest } from \"./components/services/pixabay-api\";\nimport Modal from \"./components/Modal/Modal\";\nimport Loader from \"react-loader-spinner\";\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport s from \"./App.module.css\";\n\nconst App = () => {\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [userQuery, setUserQuery] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [src, setSrc] = useState(\"\");\n\n  const toggleModal = (e) => {\n    setShowModal((prev) => !prev);\n    if (e) {\n      setSrc(e.target.src);\n    }\n  };\n  useEffect(() => {\n    if (userQuery === \"\") {\n      return;\n    }\n    setIsLoading(true);\n    sendServerRequest(page, userQuery)\n      .then((res) => {\n        if (page === 1) {\n          setArticles(res.articles);\n        } else {\n          if (!res.articles) {\n            alert(\"No articles left!\");\n            return;\n          } else {\n            setArticles((prevState) => [...prevState, ...res.articles]);\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          }\n        }\n      })\n      .catch((error) => setError(error))\n      .finally(() => setIsLoading(false));\n  }, [page, userQuery]);\n\n  const handleFormSubmit = (userQuery) => {\n    setUserQuery(userQuery);\n    setPage(1);\n  };\n\n  const changePage = () => {\n    setPage((prev) => prev + 1);\n  };\n  return (\n    <div className={s.app}>\n      <Searchbar onSubmit={handleFormSubmit} />\n      {isLoading && (\n        <Loader type=\"Bars\" color=\"orangered\" className={s.loader} />\n      )}\n      <ImageGallery props={articles} onClick={toggleModal} />\n      {articles?.length > 0 && <Button onClick={changePage} />}\n      {showModal && <Modal src={src} onClose={toggleModal} />}\n      {error && <div>{error}</div>}\n    </div>\n  );\n};\n\nexport default App;","export const sendServerRequest = (page, keyword) => {\r\n  // PIXABAY\r\n  // const baseUrl = \"https://pixabay.com/api/\";\r\n  // const API_KEY = \"23803222-9b3ffdbc29f05e2c5cc8bf419\";\r\n\r\n  const baseUrl2 = \"https://newsapi.org/v2/everything\";\r\n  const API_KEY_V2 = \"ead4fca44b904fd19a414f25f0c9bd1f\";\r\n\r\n  return fetch(\r\n    // PIXABAY REQUEST\r\n    // `${baseUrl}?q=${keyword}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    // EVERYTHING REQUEST\r\n    `${baseUrl2}?q=${keyword}&apiKey=${API_KEY_V2}&page=${page}&pageSize=12`\r\n  ).then((res) => res.json());\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__36WF6\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__QEa5D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3kc1W\",\"modal\":\"Modal_modal__nlBBK\"};"],"sourceRoot":""}